{% extends 'Restaurant/header.html' %}

{% block title %}Rail Eats - My Menu{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="page-header d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="page-title mb-0"><i class="fas fa-utensils"></i> My Food Items</h2>
            <p class="page-subtitle">Manage your restaurant menu and item availability</p>
        </div>
        <a href="{% url 'wrestauarant:add_food' %}" class="btn btn-primary">
            <i class="fas fa-plus-circle"></i> Add New Food
        </a>
    </div>

    <div class="table-container shadow-lg">
        <div class="table-responsive">
            <table class="table table-hover align-middle">
                <thead>
                    <tr>
                        <th scope="col">Food Item</th>
                        <th scope="col">Category</th>
                        <th scope="col">Price</th>
                        <th scope="col">Status</th>
                        <th scope="col" class="text-center">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for food in foods %}
                    <tr>
                        <td class="fw-bold text-dark">
                            {{ food.food_name }}
                        </td>

                        <td>
                            {% if food.category == "Veg" %}
                                <span class="text-success"><i class="fas fa-leaf me-1"></i> Veg</span>
                            {% else %}
                                <span class="text-danger"><i class="fas fa-drumstick-bite me-1"></i> Non-Veg</span>
                            {% endif %}
                        </td>

                        <td class="fw-bold text-secondary">
                            â‚¹ {{ food.price }}
                        </td>

                        <td>
                            {% if food.is_available %}
                                <span class="badge-status status-success">Available</span>
                            {% else %}
                                <span class="badge-status status-danger">Not Available</span>
                            {% endif %}
                        </td>

                        <td>
                            <div class="action-column">
                                <a href="{% url 'wrestauarant:toggle_food_status' food.id %}" 
                                   class="btn {% if food.is_available %}btn-warning{% else %}btn-success{% endif %} btn-sm">
                                    <i class="fas {% if food.is_available %}fa-eye-slash{% else %}fa-eye{% endif %}"></i>
                                    {% if food.is_available %}Disable{% else %}Enable{% endif %}
                                </a>

                                <a href="{% url 'wrestauarant:update_food' food.id %}" class="btn btn-info btn-sm">
                                    <i class="fas fa-edit"></i> Update
                                </a>

                                <a href="{% url 'wrestauarant:delete_food' food.id %}" 
                                   class="btn btn-danger btn-sm"
                                   onclick="return confirm('Are you sure you want to delete this food?')">
                                    <i class="fas fa-trash"></i> Delete
                                </a>
                            </div>
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="5" class="empty-state">
                            <i class="fas fa-search"></i>
                            <h4>No food items found</h4>
                            <p>Get started by adding your first dish to the menu.</p>
                            <a href="{% url 'wrestauarant:add_food' %}" class="btn btn-primary btn-sm mt-3">Add Food</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}